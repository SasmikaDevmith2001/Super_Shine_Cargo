---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
---

<Layout
  title="Contact Us - Super Shine Cargo"
  description="Get in touch with Super Shine Cargo for all your logistics needs. Contact us for quotes, inquiries, and customer support"
>
  <Header />
  <!-- Hero Section -->
  <section
    class="hero"
    style="
      background-image: url('');
      overflow: hidden;
      min-height: 40vh;
      background-size: auto;
      background-position: center;
      background-attachment: fixed;
      padding-top: 80px;
      justify-content: center;
      text-align: center;
    "
  >
    <div
      class="hero-overlay"
      style="
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
      "
    ></div>
    <div class="container" style="position: relative; z-index: 1">
      <div class="hero-content">
        <h1
          class="hero-title"
          style="color: #fff; font-size: 2.5rem; margin: 0"
        >
          Contact Us
        </h1>
      </div>
    </div>
  </section>

  <main>
    <!-- Contact Form & Info Section -->
    <section class="section contact-main" id="contact-form-section">
      <div class="container">
        <div class="contact-content">
          <!-- Contact Form -->
          <div class="contact-form-section">
            <h2>Send Us a Message</h2>
            <p>
              Fill out the form below and we'll get back to you within 24 hours
            </p>
            <form class="contact-form" id="contact-form">
              <div class="form-row">
                <div class="form-group">
                  <label for="firstName">First Name *</label>
                  <input type="text" id="firstName" name="firstName" required />
                </div>
                <div class="form-group">
                  <label for="lastName">Last Name *</label>
                  <input type="text" id="lastName" name="lastName" required />
                </div>
              </div>
              <div class="form-row">
                <div class="form-group">
                  <label for="email">Email Address *</label>
                  <input type="email" id="email" name="email" required />
                </div>
                <div class="form-group">
                  <label for="phone">Phone Number</label>
                  <input type="tel" id="phone" name="phone" />
                </div>
              </div>
              <div class="form-group">
                <label for="message">Message *</label>
                <textarea
                  id="message"
                  name="message"
                  rows="4"
                  placeholder="Tell us more about your requirements..."
                  required
                ></textarea>
              </div>
              <button type="submit" class="btn btn-primary form-submit">
                Send Message
              </button>
            </form>
          </div>

          <!-- Contact Info Section -->
          <div class="contact-info-section">
            <h2>Contact Information</h2>
            <p>Reach out to us via any of the methods below:</p>

            <div class="contact-methods">
							<div class="contact-method">
								<div class="method-icon">
									<svg viewBox="0 0 24 24" fill="currentColor">
										<path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>
									</svg>
								</div>
								<div class="method-content">
									<h3>Head Office</h3>
									<p>Super Shine Cargo (Pvt) Ltd<br>
									YMBA Building, 10/A Ground Floor, Colombo 10<br>
									Colombo, Sri Lanka</p>
								</div>
							</div>
							
							<div class="contact-method">
								<div class="method-icon">
									<svg viewBox="0 0 24 24" fill="currentColor">
										<path d="M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"/>
									</svg>
								</div>
								<div class="method-content">
									<h3>Phone</h3>
									<p><a href="tel:+94xxxxxxxx">+94 11 243 3581 </a></p>
								</div>
							</div>
							
							<div class="contact-method">
								<div class="method-icon">
									<svg viewBox="0 0 24 24" fill="currentColor">
										<path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/>
									</svg>
								</div>
								<div class="method-content">
									<h3>Email</h3>
									<p><a href="mailto:cargo.supershine@gmail.com">cargo.supershine@gmail.com</a></p>
								</div>
							</div>
							
							<div class="contact-method">
								<div class="method-icon">
									<svg viewBox="0 0 24 24" fill="currentColor">
										<path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H6.99C4.58 7 2.4 8.58 2.4 11.99c0 3.41 2.18 5.99 4.59 5.99H11v-1.9H6.99c-1.71 0-3.09-1.39-3.09-3.1zM8 13h8v-2H8v2zm5-6h4.01c2.41 0 4.59 2.58 4.59 5.99 0 3.41-2.18 5.99-4.59 5.99H13v-1.9h4.01c1.71 0 3.09-1.39 3.09-3.1 0-1.71-1.39-3.1-3.1-3.1H13V7z"/>
									</svg>
								</div>
								<div class="method-content">
									<h3>Website</h3>
									<p><a href="https://www.supershinecargo.com">www.supershinecargo.com</a></p>
								</div>
							</div>
						</div>

          </div>
        </div>
      </div>
    </section>

    <!-- FAQ Section -->
    <section class="section faq-section">
			<div class="container">
				<h2 class="section-title">Frequently Asked Questions</h2>
				<p class="section-subtitle">
					Quick answers to common questions about our services
				</p>
				
				<div class="faq-grid">
					<div class="faq-item">
						<h3>How do I get a shipping quote?</h3>
						<p>Simply fill out our contact form with your cargo details, or call us directly. We'll provide a customized quote within 24 hours.</p>
					</div>
					
					<div class="faq-item">
						<h3>What documents do I need for customs clearance?</h3>
						<p>Required documents typically include commercial invoice, packing list, bill of lading, and any specific permits. Our team will guide you through the process.</p>
					</div>
					
					<div class="faq-item">
						<h3>Do you provide cargo insurance?</h3>
						<p>Yes, we offer comprehensive cargo insurance options to protect your shipment against unforeseen circumstances during transit.</p>
					</div>
					
					<div class="faq-item">
						<h3>How can I track my shipment?</h3>
						<p>We provide tracking information for all shipments. You'll receive regular updates via email and phone throughout the shipping process.</p>
					</div>
					
					<div class="faq-item">
						<h3>What types of cargo do you handle?</h3>
						<p>We handle all types of cargo including general goods, machinery, perishables, hazardous materials, and project cargo. Contact us for specific requirements.</p>
					</div>
					
					<div class="faq-item">
						<h3>Do you offer warehousing services?</h3>
						<p>Yes, we provide secure warehousing and storage solutions with both short-term and long-term options available.</p>
					</div>
				</div>
			</div>
		</section>
	</main>

  <Footer />
</Layout>

<!-- EmailJS CDN -->
<script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>

<style>
  /* ===== HERO ===== */
  .hero {
    min-height: 100vh;
    background-size: cover;
    background-position: center;
    background-attachment: fixed;
    display: flex;
    align-items: center;
    position: relative;
    padding-top: 80px;
  }
  .hero-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(
      135deg,
      rgba(30, 64, 175, 0.8) 0%,
      rgba(59, 130, 246, 0.6) 100%
    );
  }
  .hero-content {
    position: relative;
    z-index: 1;
    text-align: center;
    max-width: 800px;
    margin: 0 auto;
    color: white;
  }
  .hero-title {
    font-size: 3.5rem;
    font-weight: 700;
    margin-bottom: 1.5rem;
    line-height: 1.2;
  }

  /* ===== CONTACT FORM ===== */
  .contact-main {
    background: white;
  }
  .contact-content {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 4rem;
  }
  .contact-form-section h2,
  .contact-info-section h2 {
    font-size: 1.75rem;
    font-weight: 600;
    color: #1e40af;
    margin-bottom: 1rem;
  }
  .contact-form-section p,
  .contact-info-section p {
    color: #6b7280;
    margin-bottom: 2rem;
  }
  .contact-form {
    background: #f8fafc;
    padding: 2rem;
    border-radius: 1rem;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
  }
  .form-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1rem;
  }
  .form-group {
    margin-bottom: 1.5rem;
  }
  .form-group label {
    display: block;
    font-weight: 500;
    color: #374151;
    margin-bottom: 0.5rem;
  }
  .form-group input,
  .form-group textarea {
    width: 100%;
    padding: 0.75rem;
    border: 2px solid #e5e7eb;
    border-radius: 0.5rem;
    font-size: 1rem;
    transition: border-color 0.3s ease;
  }
  .form-group input:focus,
  .form-group textarea:focus {
    outline: none;
    border-color: #3b82f6;
  }
  .form-submit {
    width: 100%;
    padding: 1rem;
    font-size: 1.1rem;
    margin-top: 1rem;
  }

  /* ===== CONTACT INFO ===== */
  .contact-methods {
    margin-bottom: 3rem;
  }
  .contact-method {
    display: flex;
    align-items: flex-start;
    gap: 1rem;
    margin-bottom: 2rem;
    padding: 1.5rem;
    background: #f8fafc;
    border-radius: 1rem;
    border-left: 4px solid #3b82f6;
  }
  .method-icon {
    width: 2rem;
    height: 2rem;
    color: #3b82f6;
    flex-shrink: 0;
    font-size: 1.5rem;
  }
  .method-content h3 {
    font-size: 1.125rem;
    font-weight: 600;
    color: #1e40af;
    margin-bottom: 0.5rem;
  }
  .method-content p {
    color: #4b5563;
    line-height: 1.6;
    margin: 0;
  }
  .method-content a {
    color: #1e40af;
    text-decoration: none;
  }
  .method-content a:hover {
    text-decoration: underline;
  }

  /* ===== BUSINESS HOURS ===== */
  .business-hours {
    background: #f8fafc;
    padding: 2rem;
    border-radius: 1rem;
    border: 2px solid #e2e8f0;
  }
  .business-hours h3 {
    font-size: 1.25rem;
    font-weight: 600;
    color: #1e40af;
    margin-bottom: 1rem;
  }
  .hours-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0.5rem 0;
    border-bottom: 1px solid #e5e7eb;
  }
  .hours-item:last-child {
    border-bottom: none;
  }
  .hours-item.emergency {
    background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%);
    color: white;
    padding: 0.75rem;
    border-radius: 0.5rem;
    margin-top: 1rem;
    border: none;
  }

  /* ===== FAQ ===== */
  .faq-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: 2rem;
    margin-top: 3rem;
  }
  .faq-item {
    background: #f8fafc;
    padding: 2rem;
    border-radius: 1rem;
    border-left: 4px solid #3b82f6;
  }
  .faq-item h3 {
    font-size: 1.125rem;
    font-weight: 600;
    color: #1e40af;
    margin-bottom: 1rem;
  }
  .faq-item p {
    color: #4b5563;
    line-height: 1.6;
    margin: 0;
  }

  /* ===== RESPONSIVE ===== */
  @media (max-width: 768px) {
    .hero {
      min-height: 70vh;
      background-attachment: scroll;
    }
    .hero-title {
      font-size: 2.5rem;
    }
    .contact-content {
      grid-template-columns: 1fr;
      gap: 2rem;
    }
    .form-row {
      grid-template-columns: 1fr;
    }
    .faq-grid {
      grid-template-columns: 1fr;
    }
  }
</style>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const contactForm = document.getElementById("contact-form");

    if (!contactForm) {
      console.error("Contact form not found or not a valid form element");
      return;
    }

    function loadEmailJS() {
      return new Promise((resolve, reject) => {
        if (window.emailjs) return resolve(window.emailjs);
        const script = document.createElement("script");
        script.src =
          "https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js";
        script.async = true;
        script.onload = () =>
          window.emailjs
            ? resolve(window.emailjs)
            : reject("EmailJS failed to load");
        script.onerror = () => reject("Failed to load EmailJS");
        document.head.appendChild(script);
      });
    }

    const EMAILJS_CONFIG = {
      PUBLIC_KEY: "3GJ5W7RJ1NrmypAmy",
      SERVICE_ID: "service_c991hpb",
      TEMPLATE_ID: "template_m2imijb",
    };

    contactForm.addEventListener("submit", async function (e) {
      e.preventDefault();
      const formData = Object.fromEntries(new FormData(this));
      if (
        !formData.firstName ||
        !formData.lastName ||
        !formData.email ||
        !formData.message
      ) {
        alert("Please fill in all required fields.");
        return;
      }

      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      if (!emailRegex.test(formData.email)) {
        alert("Please enter a valid email address.");
        return;
      }

      const submitButton = this.querySelector(".form-submit");
      const originalText = submitButton.textContent;
      submitButton.textContent = "Sending...";
      submitButton.disabled = true;

      try {
        const emailjs = await loadEmailJS();
        emailjs.init(EMAILJS_CONFIG.PUBLIC_KEY);
        await emailjs.send(
          EMAILJS_CONFIG.SERVICE_ID,
          EMAILJS_CONFIG.TEMPLATE_ID,
          {
            from_name: `${formData.firstName} ${formData.lastName}`,
            from_email: formData.email,
            phone: formData.phone || "Not provided",
            message: formData.message,
            to_name: "Super Shine Cargo",
            reply_to: formData.email,
          }
        );
        alert(
          "Thank you for your message! We will get back to you within 24 hours."
        );
        contactForm.reset();
      } catch (err) {
        console.error(err);
        alert(
          "Error sending message. Please try again or email cargo.supershine@gmail.com"
        );
      } finally {
        submitButton.textContent = originalText;
        submitButton.disabled = false;
      }
    });
  });
</script>
